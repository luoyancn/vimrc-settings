if v:lang =~ "utf8$" || v:lang =~ "UTF-8$"
   set fileencodings=ucs-bom,utf-8,latin1
endif

set nocompatible	" Use Vim defaults (much better!)
set bs=indent,eol,start		" allow backspacing over everything in insert mode
"set ai			" always set autoindenting on
"set backup		" keep a backup file
set viminfo='20,\"50	" read/write a .viminfo file, don't store more
			" than 50 lines of registers
set history=50		" keep 50 lines of command line history
set ruler		" show the cursor position all the time

" Only do this part when compiled with support for autocommands
if has("autocmd")
  augroup fedora
  autocmd!
  " In text files, always limit the width of text to 78 characters
  " autocmd BufRead *.txt set tw=78
  " When editing a file, always jump to the last cursor position
  autocmd BufReadPost *
  \ if line("'\"") > 0 && line ("'\"") <= line("$") |
  \   exe "normal! g'\"" |
  \ endif
  " don't write swapfile on most commonly used directories for NFS mounts or USB sticks
  autocmd BufNewFile,BufReadPre /media/*,/run/media/*,/mnt/* set directory=~/tmp,/var/tmp,/tmp
  " start with spec file template
  autocmd BufNewFile *.spec 0r /usr/share/vim/vimfiles/template.spec
  augroup END
endif

if has("cscope") && filereadable("/usr/bin/cscope")
   set csprg=/usr/bin/cscope
   set csto=0
   set cst
   set nocsverb
   " add any database in current directory
   if filereadable("cscope.out")
      cs add $PWD/cscope.out
   " else add database pointed to by environment
   elseif $CSCOPE_DB != ""
      cs add $CSCOPE_DB
   endif
   set csverb
endif

" Switch syntax highlighting on, when the terminal has colors
" Also switch on highlighting the last used search pattern.
if &t_Co > 2 || has("gui_running")
  syntax on
  set hlsearch
endif

filetype plugin on

if &term=="xterm"
     set t_Co=8
     set t_Sb=[4%dm
     set t_Sf=[3%dm
endif

" Don't wake up system with blinking cursor:
" http://www.linuxpowertop.org/known.php
let &guicursor = &guicursor . ",a:blinkon0"

filetype off
set rtp+=$VIM/bundle/Vundle.vim
call vundle#begin('$VIM/bundle')

" let Vundle manage Vundle, required
Plugin 'VundleVim/Vundle.vim'
Plugin 'scrooloose/nerdtree'
Plugin 'vim-scripts/buf_it'
Plugin 'mhinz/vim-startify'
Plugin 'majutsushi/tagbar'
Plugin 'vim-airline/vim-airline'
Plugin 'bronson/vim-trailing-whitespace'
Plugin 'terryma/vim-multiple-cursors'
Plugin 'mileszs/ack.vim'
Plugin 'tpope/vim-fugitive'
Plugin 'ctrlpvim/ctrlp.vim'
" Programe language support
"Plugin 'scrooloose/syntastic'
" C and C++
Plugin 'vim-scripts/a.vim'
" Golang
Plugin 'fatih/vim-go'
" Python
Plugin 'davidhalter/jedi-vim'
Plugin 'luoyancn/pyflakes-vim'
" Darcular theme
Plugin 'NLKNguyen/papercolor-theme'
Plugin 'Raimondi/delimitMate'
Plugin 'Yggdroot/indentLine'
Plugin 'tiagofumo/vim-nerdtree-syntax-highlight'
Plugin 'ryanoasis/vim-devicons'
call vundle#end()            " required
filetype plugin indent on

set termencoding=utf-8
set fileformat=unix
set fileformats=unix
set encoding=utf-8
set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1
set fileencoding=utf-8
set langmenu=zh_CN
let $LANG = 'zh_CN.UTF-8'
source $VIMRUNTIME/delmenu.vim
source $VIMRUNTIME/menu.vim

set autoread
set tabstop=4
set softtabstop=4

set noswapfile
set nobackup
set nofoldenable
set cursorline
set autochdir

autocmd FileType python set expandtab
autocmd FileType tex set expandtab
autocmd FileType c set expandtab
autocmd FileType make set noexpandtab
filetype indent off

set noundofile
set completeopt-=preview

let g:indentLine_char='‚îÜ'
let g:indentLine_enabled = 1
" Tagbar
let g:tagbar_width=40
let g:tagbar_autofocus = 1
let g:tagbar_sort = 0
let g:tagbar_compact = 1

" Nerd Tree
let NERDChristmasTree=0
let NERDTreeWinSize=40
let NERDTreeChDirMode=2
let NERDTreeShowHidden=1
let NERDTreeIgnore=['\~$', '\.pyc$', '\.swp$']
" let NERDTreeSortOrder=['^__\.py$', '\/$', '*', '\.swp$',  '\~$']
let NERDTreeShowBookmarks=1
let g:NERDTreeCopyCmd= 'cp -r '

"startify
let g:startify_files_number = 100

noremap <C-Tab> <C-W>w
inoremap <C-Tab> <C-O><C-W>w
cnoremap <C-Tab> <C-C><C-W>w
onoremap <C-Tab> <C-C><C-W>w

" Go tags
let g:tagbar_type_go = {
    \ 'ctagstype' : 'go',
    \ 'kinds'     : [
        \ 'p:package',
        \ 'i:imports:1',
        \ 'c:constants',
        \ 'v:variables',
        \ 't:types',
        \ 'n:interfaces',
        \ 'w:fields',
        \ 'e:embedded',
        \ 'm:methods',
        \ 'r:constructor',
        \ 'f:functions'
    \ ],
    \ 'sro' : '.',
    \ 'kind2scope' : {
        \ 't' : 'ctype',
        \ 'n' : 'ntype'
    \ },
    \ 'scope2kind' : {
        \ 'ctype' : 't',
        \ 'ntype' : 'n'
    \ },
    \ 'ctagsbin'  : 'gotags',
    \ 'ctagsargs' : '-sort -silent'
\ }

let g:go_fmt_command = "goimports"
let g:go_highlight_functions = 1
let g:go_highlight_methods = 1
let g:go_highlight_structs = 1
let g:go_highlight_interfaces = 1
let g:go_highlight_operators = 1
let g:go_highlight_build_constraints = 1
let g:go_highlight_types = 1
let g:go_highlight_extra_types = 1
let g:go_metalinter_enabled = ['vet', 'golint', 'errcheck']
let g:go_metalinter_autosave_enabled = ['vet', 'golint', 'errcheck']
let g:go_gocode_socket_type = 'tcp'
let g:go_gocode_autobuild = 1
let g:go_gocode_propose_builtins = 1
let g:syntastic_go_checkers = ['golint', 'govet', 'gometalinter']
au FileType go nmap <A-r> :GoDef<cr>

let g:jedi#popup_on_dot = 0
let g:jedi#completions_command = "<C-x><C-o>"
let g:jedi#goto_assignments_command = "<A-g>"
let g:jedi#goto_command = "<A-d>"
let g:jedi#goto_definitions_command = "<A-r>"
let g:jedi#usages_command = "<A-n>"
let g:jedi#documentation_command = "<A-k>"
let g:jedi#popup_select_first = 0
let g:jedi#show_call_signatures = "2"
let g:pyflakes_use_quickfix = 0
"let g:syntastic_python_checkers = ['pyflakes']
let g:syntastic_check_on_wq = 0

set rop=type:directx,gamma:1.0,contrast:0.5,level:1,geom:1,renmode:4,taamode:1

let g:webdevicons_enable = 1
let g:webdevicons_enable_ctrlp = 1
let g:WebDevIconsUnicodeDecorateFileNodes = 1
let g:webdevicons_conceal_nerdtree_brackets = 1
let g:WebDevIconsUnicodeGlyphDoubleWidth = 0

let g:WebDevIconsUnicodeDecorateFileNodesExactSymbols = {}
let g:WebDevIconsUnicodeDecorateFileNodesExactSymbols['.gitignore'] = 'Óúâ'
let g:WebDevIconsUnicodeDecorateFileNodesExactSymbols['.gitreview'] = 'ÔÇí'
let g:WebDevIconsUnicodeDecorateFileNodesExactSymbols['.gitconfig'] = 'Ôáì'

let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols = {} " needed
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['conf'] = 'Óòï'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['cfg'] = 'Óòï'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['yml'] = 'Óòï'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['xml'] = 'Óòô'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['go'] = 'Óò¶'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['tex'] = 'ÓùÅ'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['txt'] = 'Óùæ'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['pdf'] = 'Ôêë'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['rst'] = 'ÓüÑ'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['crt'] = 'ÔÇÑ'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['key'] = 'ÔêΩ'
let g:WebDevIconsUnicodeDecorateFileNodesExtensionSymbols['dockerfile'] = 'Óû∞'

let s:brown = "905532"
let s:aqua =  "3AFFDB"
let s:blue = "689FB6"
"let s:darkBlue = "009ACD"
let s:darkBlue = "00B2EE"
let s:purple = "834F79"
let s:lightPurple = "834F79"
let s:red = "AE403F"
let s:beige = "F5C06F"
let s:yellow = "F09F17"
let s:orange = "D4843E"
let s:darkOrange = "F16529"
let s:pink = "CB6F6F"
let s:salmon = "EE6E73"
let s:green = "8FAA54"
let s:lightGreen = "31B53E"
let s:white = "FFFFFF"
let s:rspec_red = 'FE405F'
let s:git_orange = 'F54D27'
let g:NERDTreeExtensionHighlightColor = {}
let g:NERDTreeExtensionHighlightColor['py'] = s:darkBlue
let g:NERDTreeExtensionHighlightColor['c'] = s:darkBlue
let g:NERDTreeExtensionHighlightColor['json'] = s:lightGreen
let g:NERDTreeExtensionHighlightColor['ini'] = s:yellow
let g:NERDTreeExtensionHighlightColor['go'] = s:darkBlue
let g:NERDTreeExtensionHighlightColor['yaml'] = s:darkOrange
let g:NERDTreeExtensionHighlightColor['yml'] = s:darkOrange
let g:NERDTreeExtensionHighlightColor['conf'] = s:orange
let g:NERDTreeExtensionHighlightColor['cfg'] = s:orange
let g:NERDTreeExtensionHighlightColor['xml'] = s:lightGreen
let g:NERDTreeExtensionHighlightColor['java'] = s:red
let g:NERDTreeExtensionHighlightColor['tex'] = s:lightGreen
let g:NERDTreeExtensionHighlightColor['pdf'] = s:red
let g:NERDTreeExtensionHighlightColor['rst'] = s:lightGreen
let g:NERDTreeExtensionHighlightColor['key'] = s:red
let g:NERDTreeExtensionHighlightColor['crt'] = s:red
let g:NERDTreeExtensionHighlightColor['dockerfile'] = s:darkBlue


set background=dark
colorscheme PaperColor
set colorcolumn=80
highlight ColorColumn guibg=#009ACD
set nowrap
set laststatus=2
set guifont=CodeNewRoman\ Nerd\ Font\ 16

let g:webdevicons_enable_airline_tabline = 1
let g:webdevicons_enable_airline_statusline = 1
let g:airline#extensions#tabline#enabled = 1
let g:airline_powerline_fonts = 1
let g:Powerline_symbols="fancy"
let g:airline_symbols = {}
let g:airline_left_alt_sep = "ÓÉÅ"
let g:airline_left_sep = "ÓÉÄ"
let g:airline_right_alt_sep = "ÓÉÉ"
let g:airline_right_sep = "ÓÉÇ"
let g:airline_symbols.branch = "ÓÇ†"
let g:airline_symbols.readonly = "ÓÇ¢"
let g:airline_symbols.linenr = "ÓÇ°"
let g:airline#extensions#tabline#left_sep = "ÓÉÅ"
let g:airline#extensions#tabline#left_alt_sep = "ÓÉÄ"
let g:airline_symbols.maxlinenr= ""
let g:airline#extensions#tabline#fnamemod = ':p:t'
let g:airline_theme="dark"
let g:airline#extensions#whitespace#enabled = 1
let g:airline#extensions#whitespace#symbol = '!'

if has("gui_running")
    set guioptions-=T
    let g:Tb_MoreThanOne = 1
    set guioptions-=m
    nnoremap <silent> <F1> :enew<CR>
    nnoremap <silent> <F2> :bdelete!<CR>
    nnoremap <silent> <F3> :Startify<CR>
    nnoremap <silent> <F8> :NERDTreeToggle<CR>
    nnoremap <silent> <F9> :NERDTreeFind<CR>
    nnoremap <silent> <F10> :TagbarToggle<cr>
    nnoremap <silent> <F11> :AV<CR>
    nnoremap <silent> <F12> :A<CR>
    set showtabline=2
else
    set t_Co=256
endif
